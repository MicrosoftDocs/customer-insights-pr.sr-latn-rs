---
title: Machine Learning Studio (klasični) eksperimenti
description: Koristite modele Machine Learning Studio (klasični) u usluzi Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: sr-Latn-RS
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669035"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="b64ab-103">Koristite modele koji se zasnivaju na usluzi Azure Machine Learning Studio (klasični)</span><span class="sxs-lookup"><span data-stu-id="b64ab-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="b64ab-104">Objedinjeni podaci u usluzi Dynamics 365 Customer Insights jesu izvor za izgradnju modela mašinskog učenja koji mogu stvoriti dodatne poslovne uvide.</span><span class="sxs-lookup"><span data-stu-id="b64ab-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="b64ab-105">Customer Insights se integriše sa Machine Learning Studio (klasični) da bi koristio vaše prilagođene modele.</span><span class="sxs-lookup"><span data-stu-id="b64ab-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="b64ab-106">Da biste videli kako se modeli razvijeni u Azure mašinskom učenju integrišu sa uslugom Customer Insights, pogledajte [Eksperimenti u Azure mašinskom učenju](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="b64ab-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b64ab-107">Preduslovi</span><span class="sxs-lookup"><span data-stu-id="b64ab-107">Prerequisites</span></span>

- <span data-ttu-id="b64ab-108">Pristup u Customer Insights</span><span class="sxs-lookup"><span data-stu-id="b64ab-108">Access to Customer Insights</span></span>
- <span data-ttu-id="b64ab-109">Aktivna Azure Enterprise pretplata</span><span class="sxs-lookup"><span data-stu-id="b64ab-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="b64ab-110">Objedinjeni profil klijenta</span><span class="sxs-lookup"><span data-stu-id="b64ab-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="b64ab-111">Podešavanje [izvoza entiteta u Azure skladište blob objekata](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="b64ab-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="b64ab-112">Podesite Machine Learning Studio Classic</span><span class="sxs-lookup"><span data-stu-id="b64ab-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="b64ab-113">U prvom koraku treba da kreiramo radni prostor i otvorimo Machine Learning Studio (klasični).</span><span class="sxs-lookup"><span data-stu-id="b64ab-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="b64ab-114">Idite na adresu[https://www.portal.azure.com](https://www.portal.azure.com/) i prijavite se.</span><span class="sxs-lookup"><span data-stu-id="b64ab-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="b64ab-115">Izaberite **Kreiraj resurs**.</span><span class="sxs-lookup"><span data-stu-id="b64ab-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="b64ab-116">Pretražite **Radni prostor studija za mašinsko učenje** i izaberite **Kreiraj**.</span><span class="sxs-lookup"><span data-stu-id="b64ab-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="b64ab-117">Unesite potrebne detalje u [kreiranje radnog prostora](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="b64ab-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="b64ab-118">Izaberite **Nivo cena planova veb-usluga** na osnovu količine podataka koju planirate da uvezete.</span><span class="sxs-lookup"><span data-stu-id="b64ab-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="b64ab-119">Za najbolje performanse, izaberite **lokaciju** koja vam je geografski najbliža.</span><span class="sxs-lookup"><span data-stu-id="b64ab-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="b64ab-120">Nakon kreiranja resursa, prikazaće se kontrolna tabla radnog prostora studija za mašinsko učenje.</span><span class="sxs-lookup"><span data-stu-id="b64ab-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="b64ab-121">Izaberite **Pokrenite studio za mašinsko učenje**.</span><span class="sxs-lookup"><span data-stu-id="b64ab-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Korisnički interfejs Azure studija za mašinsko učenje](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="b64ab-123">Rad sa Azure studiom za mašinsko učenje</span><span class="sxs-lookup"><span data-stu-id="b64ab-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="b64ab-124">Sada možete da kreirate novi eksperiment ili uvezete postojeći predložak eksperimenta iz galerije uzoraka.</span><span class="sxs-lookup"><span data-stu-id="b64ab-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="b64ab-125">Postoje uzorci eksperimenata za tri standardna scenarija:</span><span class="sxs-lookup"><span data-stu-id="b64ab-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="b64ab-126">Predviđanje odliva</span><span class="sxs-lookup"><span data-stu-id="b64ab-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="b64ab-127">Trajna vrednost klijenta</span><span class="sxs-lookup"><span data-stu-id="b64ab-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="b64ab-128">Preporuka za proizvode ili sledeća najbolja radnja</span><span class="sxs-lookup"><span data-stu-id="b64ab-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="b64ab-129">Ako kreirate novi eksperiment ili upotrebljavate predložak eksperimenta iz galerije, morate da konfigurišete svojstva za **Uvoz podataka**.</span><span class="sxs-lookup"><span data-stu-id="b64ab-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="b64ab-130">Koristite vođeno iskustvo ili direktno navedite detalje za pristup Azure skladištu blob objekata koje sadrži vaše podatke.</span><span class="sxs-lookup"><span data-stu-id="b64ab-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Eksperiment sa Azure studiom za mašinsko učenje](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="b64ab-132">Sada možete izgraditi prilagođeni kanal za obradu da biste obrisali i prethodno obradili podatke, izdvojili funkcije i obučili odgovarajući model.</span><span class="sxs-lookup"><span data-stu-id="b64ab-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="b64ab-133">Testirajte i optimizujte performanse modela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="b64ab-134">Kada budete zadovoljni kvalitetom modela, izaberite **Podesite veb-uslugu** > **Veb-usluga predviđanja**.</span><span class="sxs-lookup"><span data-stu-id="b64ab-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="b64ab-135">Ova opcija uvozi obučeni model i karakteristiku kanala od eksperimenta obuke do usluge predviđanja.</span><span class="sxs-lookup"><span data-stu-id="b64ab-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="b64ab-136">Usluga predviđanja može uzeti drugi skup ulaznih podataka sa šemom koja se koristi u eksperimentu obuke da bi se napravila predviđanja.</span><span class="sxs-lookup"><span data-stu-id="b64ab-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Postavljanje veb-usluge predviđanja](media/predictive-webservice-control.png)

1. <span data-ttu-id="b64ab-138">Kada eksperiment veb-usluge predviđanja bude uspešan, možete ga primeniti za automatsko zakazivanje.</span><span class="sxs-lookup"><span data-stu-id="b64ab-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="b64ab-139">Da bi veb-usluga radila sa uslugom Customer Insights, izaberite **Primeni veb-uslugu** > **Pregled primene veb-usluge [Novo]**.</span><span class="sxs-lookup"><span data-stu-id="b64ab-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="b64ab-140">[Saznajte više o primeni veb-usluge](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="b64ab-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Primena veb-usluge predviđanja](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="b64ab-142">Modeli uzoraka iz galerije</span><span class="sxs-lookup"><span data-stu-id="b64ab-142">Sample models from the gallery</span></span>

<span data-ttu-id="b64ab-143">Koristićemo fiktivni scenario hotela Contoso za modele u ovom članku.</span><span class="sxs-lookup"><span data-stu-id="b64ab-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="b64ab-144">Hotel Contoso prikuplja sledeće podatke:</span><span class="sxs-lookup"><span data-stu-id="b64ab-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="b64ab-145">CRM podaci koji se sastoje od aktivnosti boravka u hotelu.</span><span class="sxs-lookup"><span data-stu-id="b64ab-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="b64ab-146">Skup podataka sadrži informacije o datumima boravka za svakog registrovanog klijenta.</span><span class="sxs-lookup"><span data-stu-id="b64ab-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="b64ab-147">Takođe sadrži informacije o rezervaciji, tipovima soba, detaljima potrošnje itd.</span><span class="sxs-lookup"><span data-stu-id="b64ab-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="b64ab-148">Podaci se protežu kroz četiri godine, od januara 2014. do januara 2018. godine.</span><span class="sxs-lookup"><span data-stu-id="b64ab-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="b64ab-149">Klijentski profili gostiju hotela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="b64ab-150">Ovi profili sadrže podatke o svakom klijentu, uključujući njihovo ime, datum rođenja, poštansku adresu, pol i broj telefona.</span><span class="sxs-lookup"><span data-stu-id="b64ab-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="b64ab-151">Upotreba usluga koje nudi hotel, kao što su bazen, perionica, WiFi ili kurirska služba.</span><span class="sxs-lookup"><span data-stu-id="b64ab-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="b64ab-152">Ove informacije se beleže za svakog registrovanog klijenta.</span><span class="sxs-lookup"><span data-stu-id="b64ab-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="b64ab-153">Upotreba usluga je obično povezana sa boravkom.</span><span class="sxs-lookup"><span data-stu-id="b64ab-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="b64ab-154">U nekim slučajevima, usluge mogu koristiti klijenti bez boravka u hotelu.</span><span class="sxs-lookup"><span data-stu-id="b64ab-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="b64ab-155">Analiza odliva</span><span class="sxs-lookup"><span data-stu-id="b64ab-155">Churn Analysis</span></span>

<span data-ttu-id="b64ab-156">Analiza odliva se odnosi na različite oblasti poslovanja.</span><span class="sxs-lookup"><span data-stu-id="b64ab-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="b64ab-157">U ovom primeru, osvrnućemo se na odliv usluga, posebno u kontekstu hotelskih usluga kao što je gore opisano.</span><span class="sxs-lookup"><span data-stu-id="b64ab-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="b64ab-158">Omogućava radni primer kanala celovitog modela koji se može koristiti kao početna tačka za bilo koji drugi model odliva.</span><span class="sxs-lookup"><span data-stu-id="b64ab-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="b64ab-159">Definicija odliva</span><span class="sxs-lookup"><span data-stu-id="b64ab-159">Definition of Churn</span></span>

<span data-ttu-id="b64ab-160">Definicija odliva može se razlikovati na osnovu scenarija.</span><span class="sxs-lookup"><span data-stu-id="b64ab-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="b64ab-161">U ovom primeru, gost koji nije posetio hotel u poslednjih godinu dana trebalo bi da bude označen kao odliv.</span><span class="sxs-lookup"><span data-stu-id="b64ab-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="b64ab-162">Predložak eksperimenta se može uvesti iz galerije.</span><span class="sxs-lookup"><span data-stu-id="b64ab-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="b64ab-163">Prvo obezbedite da uvezete podatke za **Aktivnost boravka u hotelu**, **Podaci o klijentu** i **Podaci o upotrebi usluge** iz skladišta Azure skladišta blob objekta.</span><span class="sxs-lookup"><span data-stu-id="b64ab-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Uvoz podataka za model odliva](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="b64ab-165">Karakterizacija</span><span class="sxs-lookup"><span data-stu-id="b64ab-165">Featurization</span></span>

<span data-ttu-id="b64ab-166">Na osnovu definicije gubitka, prvo identifikujemo neobrađene funkcije koje će uticati na oznaku.</span><span class="sxs-lookup"><span data-stu-id="b64ab-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="b64ab-167">Zatim obrađujemo ove sirove funkcije u numeričke funkcije koje se mogu koristiti sa modelima mašinskog učenja.</span><span class="sxs-lookup"><span data-stu-id="b64ab-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="b64ab-168">Integracija podataka se dešava u usluzi Customer Insights tako da možemo pridružiti ove tabele pomoću *ID-a klijenta*.</span><span class="sxs-lookup"><span data-stu-id="b64ab-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Pridružite se uvezenim podacima](media/join-imported-data.png)

<span data-ttu-id="b64ab-170">Karakterizacija za izradu modela za analizu odliva može biti pomalo problematična.</span><span class="sxs-lookup"><span data-stu-id="b64ab-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="b64ab-171">Podaci su funkcija vremena sa svakodnevnim novim aktivnostima hotela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="b64ab-172">Tokom karakterizacije želimo da iz dinamičkih podataka stvorimo statičke funkcije.</span><span class="sxs-lookup"><span data-stu-id="b64ab-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="b64ab-173">U ovom slučaju generišemo više funkcija iz hotelskih aktivnosti sa kliznim vremenskim okvirom od jedne godine.</span><span class="sxs-lookup"><span data-stu-id="b64ab-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="b64ab-174">Takođe proširujemo funkcije kategorizacije poput vrste sobe ili vrste rezervacije u posebne funkcije koristeći kategorizovano kodiranje.</span><span class="sxs-lookup"><span data-stu-id="b64ab-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="b64ab-175">Konačni spisak funkcija:</span><span class="sxs-lookup"><span data-stu-id="b64ab-175">Final list of features:</span></span>

| <span data-ttu-id="b64ab-176">**Broj**</span><span class="sxs-lookup"><span data-stu-id="b64ab-176">**Number**</span></span>  | <span data-ttu-id="b64ab-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="b64ab-177">**Original_Column**</span></span>          | <span data-ttu-id="b64ab-178">**Izvedene funkcije**</span><span class="sxs-lookup"><span data-stu-id="b64ab-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b64ab-179">1</span><span class="sxs-lookup"><span data-stu-id="b64ab-179">1</span></span>           | <span data-ttu-id="b64ab-180">Vrsta sobe</span><span class="sxs-lookup"><span data-stu-id="b64ab-180">Room Type</span></span>                    | <span data-ttu-id="b64ab-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="b64ab-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="b64ab-182">2</span><span class="sxs-lookup"><span data-stu-id="b64ab-182">2</span></span>           | <span data-ttu-id="b64ab-183">Tip rezervacije</span><span class="sxs-lookup"><span data-stu-id="b64ab-183">Booking Type</span></span>                 | <span data-ttu-id="b64ab-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="b64ab-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="b64ab-185">3</span><span class="sxs-lookup"><span data-stu-id="b64ab-185">3</span></span>           | <span data-ttu-id="b64ab-186">Kategorija putovanja</span><span class="sxs-lookup"><span data-stu-id="b64ab-186">Travel Category</span></span>              | <span data-ttu-id="b64ab-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="b64ab-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="b64ab-188">4</span><span class="sxs-lookup"><span data-stu-id="b64ab-188">4</span></span>           | <span data-ttu-id="b64ab-189">Potrošen novac</span><span class="sxs-lookup"><span data-stu-id="b64ab-189">Dollars Spent</span></span>                | <span data-ttu-id="b64ab-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="b64ab-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="b64ab-191">5</span><span class="sxs-lookup"><span data-stu-id="b64ab-191">5</span></span>           | <span data-ttu-id="b64ab-192">Datumi prijavljivanja i odjavljivanja</span><span class="sxs-lookup"><span data-stu-id="b64ab-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="b64ab-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="b64ab-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="b64ab-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="b64ab-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="b64ab-195">6</span><span class="sxs-lookup"><span data-stu-id="b64ab-195">6</span></span>           | <span data-ttu-id="b64ab-196">Korišćenje usluga</span><span class="sxs-lookup"><span data-stu-id="b64ab-196">Service Usage</span></span>                | <span data-ttu-id="b64ab-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="b64ab-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="b64ab-198">Izbor modela</span><span class="sxs-lookup"><span data-stu-id="b64ab-198">Model selection</span></span>

<span data-ttu-id="b64ab-199">Sada treba da odaberemo optimalan algoritam koji ćemo koristiti.</span><span class="sxs-lookup"><span data-stu-id="b64ab-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="b64ab-200">U ovom slučaju, većina funkcija se zasniva na kategoričkim funkcijama.</span><span class="sxs-lookup"><span data-stu-id="b64ab-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="b64ab-201">Modeli zasnovani na stablu odluka obično dobro rade.</span><span class="sxs-lookup"><span data-stu-id="b64ab-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="b64ab-202">Ako postoje samo numeričke funkcije, neuronske mreže bi mogle biti bolji izbor.</span><span class="sxs-lookup"><span data-stu-id="b64ab-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="b64ab-203">Vektorska mašina za podršku (SVM) takođe je dobar kandidat u takvim situacijama; međutim, za izvlačenje najboljih performansi potrebno je prilično podešavanje.</span><span class="sxs-lookup"><span data-stu-id="b64ab-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="b64ab-204">Mi biramo **Stablo odlučivanja pojačano sa dve klase** kao prvi model izbora koji je praćen sa **SVM u dve klase** kao drugi model.</span><span class="sxs-lookup"><span data-stu-id="b64ab-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="b64ab-205">Azure studio za mašinsko učenje dozvoljava vam da obavite A/B testiranje, tako da je korisno početi sa dva modela, a ne sa jednim.</span><span class="sxs-lookup"><span data-stu-id="b64ab-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="b64ab-206">Sledeća slika prikazuje kanal obuke i ocenjivanja modela iz Azure studija za mašinsko učenje:</span><span class="sxs-lookup"><span data-stu-id="b64ab-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Model odliva u Azure studiju za mašinsko učenje](media/azure-machine-learning-model.png)

<span data-ttu-id="b64ab-208">Takođe primenjujemo i tehniku pod nazivom **Značaj funkcije permutacije**, važan aspekt optimizacije modela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="b64ab-209">Ugrađeni modeli imaju malo ili nimalo uvida u uticaj bilo koje posebne funkcije na konačno predviđanje.</span><span class="sxs-lookup"><span data-stu-id="b64ab-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="b64ab-210">Kalkulator važnosti funkcije koristi prilagođeni algoritam za izračunavanje uticaja pojedinih karakteristika na ishod određenog modela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="b64ab-211">Značaj funkcije je normalizovan između +1 i -1.</span><span class="sxs-lookup"><span data-stu-id="b64ab-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="b64ab-212">Negativan uticaj znači da odgovarajuća karakteristika ima kontraintuitivni uticaj na ishod i da je treba ukloniti iz modela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="b64ab-213">Pozitivan uticaj ukazuje na to da funkcija značajno doprinosi predviđanju.</span><span class="sxs-lookup"><span data-stu-id="b64ab-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="b64ab-214">Ove vrednosti nisu koeficijenti korelacije, jer su to različiti pokazatelji.</span><span class="sxs-lookup"><span data-stu-id="b64ab-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="b64ab-215">Za više informacija pogledajte [Značaj funkcije permutacije](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="b64ab-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="b64ab-216">Čitav [eksperiment odliva dostupan je u Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="b64ab-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="b64ab-217">Predviđanje vrednosti životnog veka klijenta</span><span class="sxs-lookup"><span data-stu-id="b64ab-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="b64ab-218">Proračun vrednosti životnog veka klijenta (CLTV) jedan je od ključnih pokazatelja koje preduzeće može koristiti za procenu i segmentiranje klijenata.</span><span class="sxs-lookup"><span data-stu-id="b64ab-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="b64ab-219">Za hotelski posao, najvažnije je poznavanje klijenata.</span><span class="sxs-lookup"><span data-stu-id="b64ab-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="b64ab-220">Na primer, razumevanje faktora koji čine dobre klijente predstavlja ključnu informaciju.</span><span class="sxs-lookup"><span data-stu-id="b64ab-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="b64ab-221">To pomaže menadžmentu hotela da proceni na koje funkcije treba da se fokusiraju i poboljšaju ih kako bi zadovoljili svoje klijente sa visokom platežnom moći.</span><span class="sxs-lookup"><span data-stu-id="b64ab-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="b64ab-222">Ove odluke mogu imati direktan uticaj na prodaju i zaradu.</span><span class="sxs-lookup"><span data-stu-id="b64ab-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="b64ab-223">Definicija vrednosti životnog veka klijenta</span><span class="sxs-lookup"><span data-stu-id="b64ab-223">Definition of CLTV</span></span>

<span data-ttu-id="b64ab-224">Za ovaj primer, vrednost životnog veka klijenta definišemo kao ukupni novčani iznos koji se očekuje da će klijent potrošiti u narednih 365 dana.</span><span class="sxs-lookup"><span data-stu-id="b64ab-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="b64ab-225">Koristićemo podatke u poslednje tri godine za sve klijente da predvidimo ovu vrednost.</span><span class="sxs-lookup"><span data-stu-id="b64ab-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="b64ab-226">Karakterizacija</span><span class="sxs-lookup"><span data-stu-id="b64ab-226">Featurization</span></span>

<span data-ttu-id="b64ab-227">U ovom slučaju, karakterizacija će biti predstavljena upravo kao scenario odliva.</span><span class="sxs-lookup"><span data-stu-id="b64ab-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="b64ab-228">Međutim, oznake i predviđene vrednosti se razlikuju od gore definisanih.</span><span class="sxs-lookup"><span data-stu-id="b64ab-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="b64ab-229">Izbor modela</span><span class="sxs-lookup"><span data-stu-id="b64ab-229">Model selection</span></span>

<span data-ttu-id="b64ab-230">Predviđanje vrednosti životnog veka klijenta je regresioni problem, jer je predviđena vrednost je kontinuirana promenljiva pozitivne vrednosti.</span><span class="sxs-lookup"><span data-stu-id="b64ab-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="b64ab-231">Na osnovu svojstava funkcije, biramo **Pojačana regresija stabla odlučivanja** kao jedan algoritam i **Regresija neuronske mreže** kao još jedan algoritam za obuku modela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="b64ab-232">Preporuka za proizvode ili sledeća najbolja radnja</span><span class="sxs-lookup"><span data-stu-id="b64ab-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="b64ab-233">Preporuka za proizvode u hotelskom scenariju tumači se kao preporuka usluga koje hotel nudi klijentima.</span><span class="sxs-lookup"><span data-stu-id="b64ab-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="b64ab-234">Cilj je odabrati odgovarajuće usluge za klijente tako da njihova upotreba bude maksimalna.</span><span class="sxs-lookup"><span data-stu-id="b64ab-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="b64ab-235">To je slično preporukama za filmove za korisnike usluga video strimovanja.</span><span class="sxs-lookup"><span data-stu-id="b64ab-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="b64ab-236">Definicija preporuke za proizvode ili sledeća najbolja radnja</span><span class="sxs-lookup"><span data-stu-id="b64ab-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="b64ab-237">Cilj definišemo kao maksimizovanje novčanog iznosa korišćenja usluga uz ponudu najboljih odgovarajućih usluga klijentima hotela korisnike u skladu sa njihovim interesovanjima.</span><span class="sxs-lookup"><span data-stu-id="b64ab-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="b64ab-238">Karakterizacija</span><span class="sxs-lookup"><span data-stu-id="b64ab-238">Featurization</span></span>

<span data-ttu-id="b64ab-239">Poput modela odliva, povezujemo ServiceCustomerID za hotel sa parametrom CustomerID kako bismo izgradili preporuke dosledno po parametru CustomerID.</span><span class="sxs-lookup"><span data-stu-id="b64ab-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Karakterizacija modela preporuka](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="b64ab-241">Podaci se dobijaju iz tri različita entiteta i od njih su izvedene funkcije.</span><span class="sxs-lookup"><span data-stu-id="b64ab-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="b64ab-242">Karakteristika za problem preporuke različita je u poređenju sa scenarijima odliva ili vrednosti životnog veka klijenta.</span><span class="sxs-lookup"><span data-stu-id="b64ab-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="b64ab-243">Modelu preporuka su potrebni ulazni podaci u obliku tri skupa funkcija.</span><span class="sxs-lookup"><span data-stu-id="b64ab-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="b64ab-244">Izbor modela</span><span class="sxs-lookup"><span data-stu-id="b64ab-244">Model selection</span></span>

<span data-ttu-id="b64ab-245">Predviđamo proizvode ili usluge koristeći algoritam koji se zove **Train Matchbox Recommender** za obuku modela preporuka.</span><span class="sxs-lookup"><span data-stu-id="b64ab-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Algoritam preporuka za proizvode](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="b64ab-247">Tri ulaza za model **Train Matchbox Recommender** sadrži podatke o korišćenju usluge obuke, opis klijenta (opcionalno) i opis usluge.</span><span class="sxs-lookup"><span data-stu-id="b64ab-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="b64ab-248">Postoje tri različita načina bodovanja modela.</span><span class="sxs-lookup"><span data-stu-id="b64ab-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="b64ab-249">Jedan je za evaluaciju modela gde se za rangiranje ocenjenih predmeta izračunava Normalizovani diskontni kumulativni dobitak (NDCG).</span><span class="sxs-lookup"><span data-stu-id="b64ab-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="b64ab-250">U ovom eksperimentu imamo NDCG ocenu 0,97.</span><span class="sxs-lookup"><span data-stu-id="b64ab-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="b64ab-251">Druge dve opcije su ocenjivanje modela u celom preporučenom katalogu usluga ili samo ocenjivanje predmeta koje korisnici ranije nisu koristili.</span><span class="sxs-lookup"><span data-stu-id="b64ab-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="b64ab-252">Gledajući dalje na distribuciju preporuka u čitavom katalogu usluga, primećujemo da su telefon, WiFi i kurirska služba najbolje usluge koje se preporučuju.</span><span class="sxs-lookup"><span data-stu-id="b64ab-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="b64ab-253">To je u skladu sa onim što smo pronašli iz distribucije podataka o potrošnji usluga:</span><span class="sxs-lookup"><span data-stu-id="b64ab-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Izlaz modela preporuke](media/azure-machine-learning-model-output.png)

<span data-ttu-id="b64ab-255">Celom [eksperimentu preporuke proizvoda može se pristupiti u Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="b64ab-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="b64ab-256">Integracija prilagođenih modela</span><span class="sxs-lookup"><span data-stu-id="b64ab-256">Integrate custom models</span></span>

<span data-ttu-id="b64ab-257">Da biste koristili ta predviđanja u usluzi Customer Insights, morate da **izvezete** predviđanja zajedno sa ID-ovima klijenata.</span><span class="sxs-lookup"><span data-stu-id="b64ab-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="b64ab-258">[Izvezite ih na istu lokaciju Azure skladišta blob objekata](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) na koju izvozite izvorne podatke.</span><span class="sxs-lookup"><span data-stu-id="b64ab-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="b64ab-259">Veb-usluga predviđanja može se redovno prikazivati i ažurirati ocene.</span><span class="sxs-lookup"><span data-stu-id="b64ab-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="b64ab-260">Podaci koje generiše prilagođeni model mogu se koristiti za dodatno obogaćivanje podataka o klijentima.</span><span class="sxs-lookup"><span data-stu-id="b64ab-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="b64ab-261">Za više informacija pogledajte [Prilagođeni modeli mašinskog učenja](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="b64ab-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>
